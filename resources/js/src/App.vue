<!-- =========================================================================================
	File Name: App.vue
	Description: Main vue file - APP
	----------------------------------------------------------------------------------------
	Item Name: Vuesax Admin - VueJS Dashboard Admin Template
	Author: Pixinvent
	Author URL: http://www.themeforest.net/user/pixinvent
========================================================================================== -->


<template>
	<div id="app">
		<router-view></router-view>
	</div>
</template>

<script>
import themeConfig from '@/../themeConfig.js'
import {Token} from "./store/tokenStorage";

export default {
    watch: {
        '$route'(to, from){
            const block_route = to.path;
            if(Token.getToken()){
                switch(block_route){
                    case '/pages/login': this.$router.replace('/')
                }
            }else{
                switch(block_route){
                    case '/': this.$router.replace('/pages/login')
                }
            }
            // debugger
        },
        '$store.state.theme'(val) {
            this.toggleClassInBody(val);
        }
    },
    methods: {
        toggleClassInBody(className) {
            if (className == 'dark') {
                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark');
                document.body.classList.add('theme-dark');
            } else if (className == 'semi-dark') {
                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark');
                document.body.classList.add('theme-semi-dark');
            } else {
                if (document.body.className.match('theme-dark')) document.body.classList.remove('theme-dark');
                if (document.body.className.match('theme-semi-dark')) document.body.classList.remove('theme-semi-dark');
            }
        }
    },
    mounted() {
        this.toggleClassInBody(themeConfig.theme)
    },
}
</script>
<style lang="scss">
    .material-icons{
        font-size: 16px!important;
    }
	@import "./../../../node_modules/ag-grid-community/dist/styles/ag-grid.css";
	@import "./../../../node_modules/ag-grid-community/dist/styles/ag-theme-balham.css";
</style>
